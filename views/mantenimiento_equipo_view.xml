<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_maintenance_equipment_form_inherit" model="ir.ui.view">
            <field name="name">maintenance.equipment.form.inherit</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
            <field name="arch" type="xml">
                
                <xpath expr="//field[@name='category_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='owner_user_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_ref']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='effective_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                 
                <xpath expr="//field[@name='cost']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='warranty_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                
                <!--
                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                -->
                
                <xpath expr="//field[@name='maintenance_team_id']" position="attributes"> 
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='technician_user_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='location']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>    

                <xpath expr="//field[@name='assign_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='scrap_date']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//page[@name='maintenance']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="string">Coloquial</attribute>
                    <attribute name="placeholder">Nombre Coloquial Interno del equipo</attribute>
                </xpath>

                <xpath expr="//field[@name='category_id']" position="after">

                    <field name="fecha_ingreso"/>
                    <field name="garantia" widget="radio"/> 
                    <field name="motivo_ingreso"/>
                    <field name="usado_por" widget="radio"/>
                </xpath>

                <xpath expr="//field[@name='scrap_date']" position="after">
                    <field name="fecha_baja"/>
                    <field name="centro_costo"/>
                </xpath>

                <xpath expr="//field[@name='model']" position="before">
                    <field name="coloquial_cliente"/>
            <!--    <field name="docs_ingreso"/>    --> 
                 </xpath>

                <xpath expr="//field[@name='model']" position="after">
                    <field name="marca"/>
                    <field name="tipo_equipo_id"/>
                </xpath>     
                
                <xpath expr="//field[@name='warranty_date']" position="after">
                    <field name="propietario_id" widget="res_partner_many2one"/>
                    <field name="usuario_id" widget="res_partner_many2one"/>
                    <field name="horas_ingreso"/> 
                    <field name="planner_id"/>
                    <field name="asesor_id"/>
                    <field name="flota"/>
                    <field name="estado_reparacion_id"/>
                    <field name="edad_dias"/>
                    <field name="prox_fin"/>
                </xpath>
                
                <!-- Secciones nuevas -->
            
            <xpath expr="//notebook/page[1]" position="after">

                <page string="Logística">
                    <group>
                        <field name="area_logistica"/>
                    </group>
                    <group string="Transito de Ingreso">
                        <group>
                            <field name="fecha_notificacion_cliente"/>
                            <field name="fecha_salida_almacen"/>
                            <field name="fecha_ingreso_taller"/>
                        </group>
                    </group>
                    <group string="Transito de Salida">
                        <group>
                            <field name="fecha_salida_taller"/>
                            <!--    <field name="transportista_id"/> -->
                            <field name="guia_transportista"/>
                            <field name="guia_nam"/>
                            <field name="fecha_entrega_almacen"/>    
                        </group>
                    </group>             
                </page>

            </xpath>

            <xpath expr="//page[@name='maintenance']" position="before">

                <page string="Evaluación">
                    <group>
                        <group>
                            <field name="fecha_ingreso" string="Ingreso Equipo"/>
                            <field name="eval_inicio"/>
                            <field name="eval_fin"/>
                        </group>
                        <group>
                            <field name="eval_dias"/>
                            <field name="eval_std_tiempo"/>
                        </group>
                    </group>
                </page>
                <!-- ANTES ERA PURCHASE ORDER (PO) -->
                <page string="Documentación Comercial">
                    <group string="Seguimiento">
                        <field name="estatus_id" widget="many2one"/>
                    </group>
                    <group>
                        <group string="Información preliminar">
                            <field name="rfq_core_solped"/>
                            <field name="informe_taller"/>    
                            <field name="informe_evaluacion"/> 
                            <field name="cotizacion"/>
                            <field name="envio_cotizacion"/>
                        </group>
                        <group string="Purchase Order">
                            <field name="purchase_order"/>
                            <field name="po_emision"/>  
                            <field name="po_recepcion"/>
                            <field name="currency_id"/>
                            <field name="monto_cotizacion"/>
                            <field name="monto_po" widget="monetary"/>
                            <field name="dias_credito"/>
                            <field name="tasa_cambio"/>
                            <field name="tiempo_ofertado_id"/> 
                        </group>
                    </group>
                    <group string="Cierre de reparación">
                        <field name="po_fin"/>
                        <field name="informe_final"/>
                        <field name="envio_informe_final"/>
                        <field name="encuesta_satisfaccion"/>
                        <field name="respuesta_cliente"/>
                    </group>
                    <separator string="Notas / Observaciones"/>

                    <div style="border: 2px solid black; padding: 10px; margin-bottom: 20px; background-color: white;">
                        <field  name="notas_comerciales"
                                nolabel="1"
                                placeholder="Escribir notas u observaciones relevantes..."
                                style="min-height: 100px;"/>
                    </div>
                </page>

                <page string="Garantía" invisible="garantia != 'si'">
                    <group string="Seguimiento">
                        <field name="estatus_id_ga" widget="many2one"/>           
                    </group>
                    <group string="Información preliminar">
                        <field name="rfq_core_solped_ga"/>
                        <field name="purchase_order_ga"/>
                        <field name="analisis_falla_ga"/>
                        <field name="informe_garantia_ga"/>
                    </group>
                    <group string="Cierre de garantía">
                        <field name="po_fecha_entrega_ga"/>
                        <field name="informe_final_ga"/>
                        <field name="envio_informe_final_ga"/>
                        <field name="encuesta_satisfaccion_ga"/>
                        <field name="respuesta_cliente_ga"/>
                    </group>
                    <separator string="Notas / Observaciones"/>
                    <div style="border: 2px solid black; padding: 10px; margin-bottom: 20px; background-color: white;">
                        <field  name="notas_garantia"
                                nolabel="1"
                                placeholder="Escribir notas u observaciones relevantes..."
                                style="min-height: 100px;"/>
                    </div>
                </page>

                <page string="Reparación">
                    <group string="Fecha Inicio Reparación">
                        <group>
                <!--        <field name="tiempo_ofertado_id"/> --> 
                            <field name="fecha_inicio_previos"/>
                        </group>
                        <group>
                            <field name="fecha_inicio_reparacion"/>
                            <field name="fecha_llegada_kit"/>
                        </group>
                    </group>
                    <group string="Fecha Fin Reparación">
                        <group>
                            <field name="fecha_fin_prop_eco"/>
                            <field name="fecha_fin_gantt"/>
                            <field name="fecha_termino_interno"/>
                            <field name="fecha_real_equipo_listo"/>
                        </group>
                        <group>
                            <field name="repair_dias"/>
                            <field name="repair_std_tiempo"/>
                    <!--    <field name="fecha_entrega_equipo"/>    --> 
                        </group>
                    </group>    
                </page>  

            </xpath>

            </field>
        </record>

        <record id="view_maintenance_equipment_form_inherit_employee_fix" model="ir.ui.view">
            <field name="name">maintenance.equipment.form.inherit.employee.fix</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="hr_maintenance.maintenance_equipment_view_form_inherit_hr"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_maintenance_equipment_form_inherit_hr_fix" model="ir.ui.view">
            <field name="name">maintenance.equipment.form.inherit.hr.fix</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="hr_maintenance.maintenance_equipment_view_form_inherit_hr"/>
            <field name="arch" type="xml">
                
                <xpath expr="//field[@name='equipment_assign_to']" position="replace">
                </xpath>


                </field>
        </record>

    </data>
</odoo>